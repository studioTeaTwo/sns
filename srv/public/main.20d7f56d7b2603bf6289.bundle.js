webpackJsonp([3],{0:function(n,t,l){n.exports=l("cDNt")},"3WSF":function(n,t,l){"use strict";l.d(t,"a",function(){return r});var e=l("XKz0"),o=l("rr0h"),u=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++){t=arguments[l];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},r=function(){function n(n,t){this.httpClient=n,this.store=t}return n.prototype.list=function(){var n=this;this.httpClient.get("/api/chats").subscribe(function(t){n.onSuccessList(t)})},n.prototype.get=function(n){var t=this;this.httpClient.get("/api/chats/"+n).subscribe(function(n){t.onSuccessChats(n)})},n.prototype.post=function(n){var t=this,l=(this.store.getState().account,{chat_thread:{participants:[n]}});return this.httpClient.post("/api/chats",l).map(function(n){return t.onSuccessList([n]),n})},n.prototype.say=function(n,t){var l=this,e={chat:{chat_thread_id:n,body:t}};this.httpClient.post("/api/chats/"+n+"/say",e).subscribe(function(n){l.onSuccessChats([n])})},n.prototype.onSuccessList=function(n){var t=this.store.getState();n=this.unique(n.concat.apply(n,t.chatList)),n.sort(this.compareUpdated),this.store.setState(u({},t,{chatList:n,loading:!1,error:!1}))},n.prototype.onSuccessChats=function(n){var t=this.store.getState();n=this.unique(n.concat.apply(n,t.chats)),n.sort(this.compareCreated),this.store.setState(u({},t,{chats:n,loading:!1,error:!1}))},n.prototype.compareCreated=function(n,t){return n.createdAt<t.createdAt?-1:n.createdAt>t.createdAt?1:0},n.prototype.compareUpdated=function(n,t){return n.updatedAt<t.updatedAt?-1:n.updatedAt>t.updatedAt?1:0},n.prototype.unique=function(n){return n.filter(function(n,t,l){return l.findIndex(function(t){return n.id===t.id})===t})},n.ctorParameters=function(){return[{type:e.c},{type:o.a}]},n}()},"8Sw2":function(n,t,l){function e(n){return l(o(n))}function o(n){var t=u[n];if(!(t+1))throw new Error("Cannot find module '"+n+"'.");return t}var u={"./af":"FQor","./af.js":"FQor","./ar":"EcI0","./ar-dz":"cw72","./ar-dz.js":"cw72","./ar-kw":"fu+8","./ar-kw.js":"fu+8","./ar-ly":"7CVz","./ar-ly.js":"7CVz","./ar-ma":"1dFW","./ar-ma.js":"1dFW","./ar-sa":"UxV2","./ar-sa.js":"UxV2","./ar-tn":"nm31","./ar-tn.js":"nm31","./ar.js":"EcI0","./az":"EbpX","./az.js":"EbpX","./be":"SQlX","./be.js":"SQlX","./bg":"R3V+","./bg.js":"R3V+","./bn":"cAX3","./bn.js":"cAX3","./bo":"dHgA","./bo.js":"dHgA","./br":"W7ww","./br.js":"W7ww","./bs":"lZ6K","./bs.js":"lZ6K","./ca":"udbC","./ca.js":"udbC","./cs":"oSQb","./cs.js":"oSQb","./cv":"yPEm","./cv.js":"yPEm","./cy":"PpYB","./cy.js":"PpYB","./da":"oiZG","./da.js":"oiZG","./de":"LYe6","./de-at":"KOG5","./de-at.js":"KOG5","./de-ch":"o3JY","./de-ch.js":"o3JY","./de.js":"LYe6","./dv":"OkYT","./dv.js":"OkYT","./el":"QFnp","./el.js":"QFnp","./en-au":"dBGl","./en-au.js":"dBGl","./en-ca":"vv0C","./en-ca.js":"vv0C","./en-gb":"IoCy","./en-gb.js":"IoCy","./en-ie":"qVAg","./en-ie.js":"qVAg","./en-nz":"FbT0","./en-nz.js":"FbT0","./eo":"y/6j","./eo.js":"y/6j","./es":"ivpd","./es-do":"DBbP","./es-do.js":"DBbP","./es.js":"ivpd","./et":"FrUj","./et.js":"FrUj","./eu":"LAVD","./eu.js":"LAVD","./fa":"J2cK","./fa.js":"J2cK","./fi":"5FCP","./fi.js":"5FCP","./fo":"jIZb","./fo.js":"jIZb","./fr":"Lq8I","./fr-ca":"ICRA","./fr-ca.js":"ICRA","./fr-ch":"QWmo","./fr-ch.js":"QWmo","./fr.js":"Lq8I","./fy":"Fbnp","./fy.js":"Fbnp","./gd":"zhFu","./gd.js":"zhFu","./gl":"o10m","./gl.js":"o10m","./gom-latn":"UoXv","./gom-latn.js":"UoXv","./he":"gbvS","./he.js":"gbvS","./hi":"+UQz","./hi.js":"+UQz","./hr":"qGYH","./hr.js":"qGYH","./hu":"hGGh","./hu.js":"hGGh","./hy-am":"1AR5","./hy-am.js":"1AR5","./id":"Ie9h","./id.js":"Ie9h","./is":"piS+","./is.js":"piS+","./it":"5P9/","./it.js":"5P9/","./ja":"3cRe","./ja.js":"3cRe","./jv":"vwCJ","./jv.js":"vwCJ","./ka":"R7aq","./ka.js":"R7aq","./kk":"d8hV","./kk.js":"d8hV","./km":"nCdc","./km.js":"nCdc","./kn":"5K8n","./kn.js":"5K8n","./ko":"1jN3","./ko.js":"1jN3","./ky":"74/W","./ky.js":"74/W","./lb":"XAyT","./lb.js":"XAyT","./lo":"w/Mz","./lo.js":"w/Mz","./lt":"IetG","./lt.js":"IetG","./lv":"CRPd","./lv.js":"CRPd","./me":"1mee","./me.js":"1mee","./mi":"yRr3","./mi.js":"yRr3","./mk":"bfn1","./mk.js":"bfn1","./ml":"r1ky","./ml.js":"r1ky","./mr":"+K6p","./mr.js":"+K6p","./ms":"asMk","./ms-my":"IcWU","./ms-my.js":"IcWU","./ms.js":"asMk","./my":"Isng","./my.js":"Isng","./nb":"FjNp","./nb.js":"FjNp","./ne":"P9zQ","./ne.js":"P9zQ","./nl":"pejQ","./nl-be":"c3/i","./nl-be.js":"c3/i","./nl.js":"pejQ","./nn":"ALD8","./nn.js":"ALD8","./pa-in":"1YTd","./pa-in.js":"1YTd","./pl":"Gs99","./pl.js":"Gs99","./pt":"eunO","./pt-br":"uHKL","./pt-br.js":"uHKL","./pt.js":"eunO","./ro":"1FZw","./ro.js":"1FZw","./ru":"Cy48","./ru.js":"Cy48","./sd":"+28k","./sd.js":"+28k","./se":"EiHj","./se.js":"EiHj","./si":"77bI","./si.js":"77bI","./sk":"BgyH","./sk.js":"BgyH","./sl":"K7sG","./sl.js":"K7sG","./sq":"pwQJ","./sq.js":"pwQJ","./sr":"N0T2","./sr-cyrl":"9OoP","./sr-cyrl.js":"9OoP","./sr.js":"N0T2","./ss":"Mh9L","./ss.js":"Mh9L","./sv":"YZAt","./sv.js":"YZAt","./sw":"/7jV","./sw.js":"/7jV","./ta":"VKBt","./ta.js":"VKBt","./te":"TIcV","./te.js":"TIcV","./tet":"BlC1","./tet.js":"BlC1","./th":"Zi3L","./th.js":"Zi3L","./tl-ph":"D4Y9","./tl-ph.js":"D4Y9","./tlh":"muBP","./tlh.js":"muBP","./tr":"82s3","./tr.js":"82s3","./tzl":"vjXv","./tzl.js":"vjXv","./tzm":"Vhfe","./tzm-latn":"m0Pg","./tzm-latn.js":"m0Pg","./tzm.js":"Vhfe","./uk":"Y3Ex","./uk.js":"Y3Ex","./ur":"4DIg","./ur.js":"4DIg","./uz":"wDue","./uz-latn":"Li28","./uz-latn.js":"Li28","./uz.js":"wDue","./vi":"UbP6","./vi.js":"UbP6","./x-pseudo":"fQLM","./x-pseudo.js":"fQLM","./yo":"evMD","./yo.js":"evMD","./zh-cn":"DV5H","./zh-cn.js":"DV5H","./zh-hk":"iEKH","./zh-hk.js":"iEKH","./zh-tw":"X9uL","./zh-tw.js":"X9uL"};e.keys=function(){return Object.keys(u)},e.resolve=o,n.exports=e,e.id="8Sw2"},D5Jq:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){function n(){}return n}()},HOG7:function(n,t,l){"use strict";l.d(t,"a",function(){return o});var e=l("ge1L"),o=(l.n(e),function(){function n(){}return n.prototype.transform=function(n){return e.locale("ja"),e(n).format("YYYY/MM/DD(ddd)")},n}())},Mq1o:function(n,t,l){"use strict";l.d(t,"a",function(){return o});var e=l("p5Ee"),o=function(){function n(){this.domain=e.a.domain}return n.prototype.intercept=function(n,t){var l=localStorage.getItem("allergylog");!l&&n.url.match(/login/);var e=n.clone({url:this.domain+n.url,setHeaders:{Authorization:l||""}});return console.log("\u30a4\u30f3\u30bf\u30fc\u30bb\u30d7\u30c8\uff01",e),t.handle(e)},n.ctorParameters=function(){return[]},n}()},T2Au:function(n,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=l("XL2q"),o=(l.n(e),l("/zHi")),u=(l.n(o),l("S7im")),r=(l.n(u),l("xpf9")),i=(l.n(r),l("5v8a")),c=(l.n(i),l("7rqg")),a=(l.n(c),l("MBEm")),s=(l.n(a),l("Ozq5")),_=(l.n(s),l("gbhw"));l.n(_);l.d(t,"a",function(){return p});var h=l("rr0h"),d=l("y6FT"),p=function(){function n(){}return n.forRoot=function(){return{ngModule:n,providers:[h.a,d.a,d.c,d.b]}},n}()},Zrme:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=['@-webkit-keyframes Flash{50%{background-color:#d6d3d0}}#container-chat[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#f0f0f0}#container-chat[_ngcontent-%COMP%]   #header-chat[_ngcontent-%COMP%]{position:fixed;z-index:999;box-sizing:border-box;width:100%;padding:8px}#container-chat[_ngcontent-%COMP%]   #contents-chat[_ngcontent-%COMP%]{padding:5px;padding-top:46px;padding-bottom:50px}#container-chat[_ngcontent-%COMP%]   #footer-chat[_ngcontent-%COMP%]{position:fixed;z-index:9999;background-color:#fff;bottom:0;width:100%;height:50px;padding-bottom:5px;text-align:center}#container-chat[_ngcontent-%COMP%]   #footer-chat[_ngcontent-%COMP%]   .footer-chat-item[_ngcontent-%COMP%]{top:20%;position:relative}#container-chat[_ngcontent-%COMP%]   #footer-chat[_ngcontent-%COMP%]   .footer-chat-replyText[_ngcontent-%COMP%]{cursor:pointer;height:30px;width:70%;font-size:1em;border:1px solid #eaeaea;padding:0 6px}#container-chat[_ngcontent-%COMP%]   #footer-chat[_ngcontent-%COMP%]   .footer-chat-replyButton[_ngcontent-%COMP%]{width:60px;min-width:60px;margin-left:5px;background-color:#005d93}#container-chat[_ngcontent-%COMP%]   #footer-chat[_ngcontent-%COMP%]   .is-active[_ngcontent-%COMP%]{-webkit-animation:Flash 2s infinite}.history-scrollbox[_ngcontent-%COMP%]{overflow:scroll}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]{width:100%;border-spacing:0 40px}.history-scrollbox[_ngcontent-%COMP%]   .chats-divider[_ngcontent-%COMP%]{line-height:1em;position:relative;outline:0;border:0;color:#d0d0d0;text-align:center;height:1.5em}.history-scrollbox[_ngcontent-%COMP%]   .chats-divider[_ngcontent-%COMP%]:before{content:"";background:#e0e0e0;position:absolute;left:0;top:50%;width:100%;height:1px}.history-scrollbox[_ngcontent-%COMP%]   .chats-divider-date[_ngcontent-%COMP%]:after{padding:.5em;background-color:#f0f0f0}.history-scrollbox[_ngcontent-%COMP%]   .chats-divider-date[_ngcontent-%COMP%]:after, .history-scrollbox[_ngcontent-%COMP%]   .chats-divider-offer[_ngcontent-%COMP%]:after{content:attr(data-content);position:relative;display:inline-block;color:#000;line-height:1.5em;font-size:small}.history-scrollbox[_ngcontent-%COMP%]   .chats-divider-offer[_ngcontent-%COMP%]:after{padding:0 .5em;background-color:#fff}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .chat-column-avatar[_ngcontent-%COMP%]{width:15%}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .chat-column-avatar[_ngcontent-%COMP%]   .chat-avatar[_ngcontent-%COMP%]{font-size:0;width:45px;height:45px;border:1px solid #eaeaea;border-radius:50%}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .chat-column-time[_ngcontent-%COMP%]{width:10%}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .chat-column-time[_ngcontent-%COMP%]   .chat-created[_ngcontent-%COMP%], .history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .chat-column-time[_ngcontent-%COMP%]   .chat-read[_ngcontent-%COMP%]{color:rgba(0,0,0,.54);font-size:small}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .myself[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{background-color:#fff;width:80%;min-height:50px;height:auto;margin:auto;border-radius:10px;position:relative;box-sizing:border-box;padding:8px}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .myself[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]:after{border:10px solid transparent;border-left-color:#fff;border-right-width:0;right:-10px;content:"";display:block;top:15px;position:absolute;width:0}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .opponent[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]{background-color:#fff;width:80%;min-height:50px;height:auto;margin:auto;border-radius:10px;position:relative;box-sizing:border-box;padding:8px}.history-scrollbox[_ngcontent-%COMP%]   .chats[_ngcontent-%COMP%]   .opponent[_ngcontent-%COMP%]   .chat-body[_ngcontent-%COMP%]:after{border:10px solid transparent;border-right-color:#fff;border-left-width:0;left:-10px;content:"";display:block;top:15px;position:absolute;width:0}.history-scrollbox[_ngcontent-%COMP%]   .history-unread[_ngcontent-%COMP%]{font-size:small;color:#fff;background-color:rgba(255,0,0,.2);border-radius:20px;width:50%;margin:auto;padding-bottom:5px;text-align:center}.history-scrollbox[_ngcontent-%COMP%]   .history-unread[_ngcontent-%COMP%]   md-icon[_ngcontent-%COMP%]{vertical-align:middle}.history-scrollbox[_ngcontent-%COMP%]   .history-loading[_ngcontent-%COMP%]{margin:auto;height:50px;width:50px}']},cDNt:function(n,t,l){"use strict";function e(n){return x._43(0,[(n()(),x._21(0,null,null,6,"div",[["style","text-align:center"]],null,null,null,null,null)),(n()(),x._41(null,["\n  "])),(n()(),x._21(0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),x._41(null,["\n    Welcome to AllergyLog!!\n  "])),(n()(),x._41(null,["\n  "])),(n()(),x._21(0,null,null,0,"img",[["src","assets/images/top.png"],["width","300"]],null,null,null,null,null)),(n()(),x._41(null,["\n"])),(n()(),x._41(null,["\n\n"])),(n()(),x._21(0,null,null,1,"button",[],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.sighup()&&e}return e},null,null)),(n()(),x._41(null,["\u767b\u9332"])),(n()(),x._41(null,["\n"])),(n()(),x._21(0,null,null,1,"button",[],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.login()&&e}return e},null,null)),(n()(),x._41(null,["\u30ed\u30b0\u30a4\u30f3"])),(n()(),x._41(null,["\n"])),(n()(),x._21(0,null,null,6,"a",[["routerLink","/tutorial"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var e=!0;if("click"===t){e=!1!==x._35(n,15).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&e}return e},null,null)),x._19(671744,[[2,4]],0,M.m,[M.k,M.a,w.i],{routerLink:[0,"routerLink"]},null),x._19(1720320,null,2,M.l,[M.k,x.q,x.Q,x.j],{routerLinkActive:[0,"routerLinkActive"]},null),x._39(603979776,1,{links:1}),x._39(603979776,2,{linksWithHrefs:1}),(n()(),x._21(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),x._41(null,["\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb"])),(n()(),x._41(null,["\n"])),(n()(),x._21(0,null,null,6,"a",[["routerLink","/chat/list"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var e=!0;if("click"===t){e=!1!==x._35(n,23).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&e}return e},null,null)),x._19(671744,[[4,4]],0,M.m,[M.k,M.a,w.i],{routerLink:[0,"routerLink"]},null),x._19(1720320,null,2,M.l,[M.k,x.q,x.Q,x.j],{routerLinkActive:[0,"routerLinkActive"]},null),x._39(603979776,3,{links:1}),x._39(603979776,4,{linksWithHrefs:1}),(n()(),x._21(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),x._41(null,["\u30c1\u30e3\u30c3\u30c8"])),(n()(),x._41(null,["\n"])),(n()(),x._21(0,null,null,6,"a",[["routerLink","/user/1"],["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var e=!0;if("click"===t){e=!1!==x._35(n,31).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&e}return e},null,null)),x._19(671744,[[6,4]],0,M.m,[M.k,M.a,w.i],{routerLink:[0,"routerLink"]},null),x._19(1720320,null,2,M.l,[M.k,x.q,x.Q,x.j],{routerLinkActive:[0,"routerLinkActive"]},null),x._39(603979776,5,{links:1}),x._39(603979776,6,{linksWithHrefs:1}),(n()(),x._21(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),x._41(null,["\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"])),(n()(),x._41(null,["\n\n"])),(n()(),x._21(0,null,null,1,"label",[],null,null,null,null,null)),(n()(),x._41(null,["",""])),(n()(),x._41(null,["\n"])),(n()(),x._21(0,null,null,2,"label",[],null,null,null,null,null)),(n()(),x._41(null,["",""])),x._36(131072,w.b,[x.j]),(n()(),x._41(null,["\n\n"]))],function(n,t){n(t,15,0,"/tutorial");n(t,16,0,"active");n(t,23,0,"/chat/list");n(t,24,0,"active");n(t,31,0,"/user/1");n(t,32,0,"active")},function(n,t){var l=t.component;n(t,14,0,x._35(t,15).target,x._35(t,15).href),n(t,22,0,x._35(t,23).target,x._35(t,23).href),n(t,30,0,x._35(t,31).target,x._35(t,31).href),n(t,39,0,l.sessionResponse),n(t,42,0,l.JSON.stringify(x._42(t,42,0,x._35(t,43).transform(l.accountResponse$))))})}function o(n){return x._43(0,[(n()(),x._21(0,null,null,1,"app-top",[],null,null,null,e,A)),x._19(114688,null,0,P,[M.k,S.a,L.a,I.a],null,null)],function(n,t){n(t,1,0)},null)}function u(n){return E._43(0,[(n()(),E._21(0,null,null,2,"md-spinner",[["class","history-loading mat-spinner"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0]],null,null,X.k,X.f)),E._19(16384,null,0,N._25,[[2,N.j],E.q],null,null),E._19(180224,null,0,N._55,[E.q,E.J,E.Q],null,null)],null,function(n,t){n(t,0,0,E._35(t,2).value,E._35(t,2).mode)})}function r(n){return E._43(0,[(n()(),E._21(0,null,null,3,"tr",[],null,null,null,null,null)),(n()(),E._21(0,null,null,2,"td",[["colspan","3"]],null,null,null,null,null)),(n()(),E._21(0,null,null,1,"hr",[["class","chat-divider chat-divider-date"]],[[1,"data-content",0]],null,null,null,null)),E._37(1)],null,function(n,t){n(t,2,0,E._42(t,2,0,n(t,3,0,E._35(t.parent.parent,0),t.parent.context.$implicit.created)))})}function i(n){return E._43(0,[(n()(),E._21(0,null,null,15,"tr",[["class","myself"]],null,null,null,null,null)),(n()(),E._41(null,["\n            "])),(n()(),E._21(0,null,null,5,"td",[["class","chat-column-time"]],null,null,null,null,null)),(n()(),E._41(null,["\n              "])),(n()(),E._21(0,null,null,2,"div",[["class","chat-created"]],null,null,null,null,null)),(n()(),E._41(null,["",""])),E._37(2),(n()(),E._41(null,["\n            "])),(n()(),E._41(null,["\n            "])),(n()(),E._21(0,null,null,2,"td",[["class","chat-column-body"]],null,null,null,null,null)),(n()(),E._21(0,null,null,1,"div",[["class","chat-body"]],null,null,null,null,null)),(n()(),E._41(null,["",""])),(n()(),E._41(null,["\n            "])),(n()(),E._21(0,null,null,1,"td",[["class","chat-column-avatar"]],null,null,null,null,null)),(n()(),E._21(0,null,null,0,"img",[["class","chat-avatar"]],[[8,"src",4]],null,null,null,null)),(n()(),E._41(null,["\n          "]))],null,function(n,t){var l=t.component;n(t,5,0,E._42(t,5,0,n(t,6,0,E._35(t.parent.parent,1),t.parent.context.$implicit.createdAt,"HH:mm"))),n(t,11,0,t.parent.context.$implicit.body),n(t,14,0,l.myself.avatarUrl)})}function c(n){return E._43(0,[(n()(),E._21(0,null,null,1,"div",[["class","chat-read"]],null,null,null,null,null)),(n()(),E._41(null,["\u65e2\u8aad"]))],null,null)}function a(n){return E._43(0,[(n()(),E._21(0,null,null,18,"tr",[["class","opponent"]],null,null,null,null,null)),(n()(),E._41(null,["\n            "])),(n()(),E._21(0,null,null,1,"td",[["class","chat-column-avatar"]],null,null,null,null,null)),(n()(),E._21(0,null,null,0,"img",[["class","chat-avatar"]],[[8,"src",4]],null,null,null,null)),(n()(),E._41(null,["\n            "])),(n()(),E._21(0,null,null,2,"td",[["class","chat-column-body"]],null,null,null,null,null)),(n()(),E._21(0,null,null,1,"div",[["class","chat-body"]],null,null,null,null,null)),(n()(),E._41(null,["",""])),(n()(),E._41(null,["\n            "])),(n()(),E._21(0,null,null,8,"td",[["class","chat-column-time"]],null,null,null,null,null)),(n()(),E._41(null,["\n              "])),(n()(),E._15(16777216,null,null,1,null,c)),E._19(16384,null,0,W.l,[E._3,E.Z],{ngIf:[0,"ngIf"]},null),(n()(),E._41(null,["\n              "])),(n()(),E._21(0,null,null,2,"div",[["class","chat-created"]],null,null,null,null,null)),(n()(),E._41(null,["",""])),E._37(2),(n()(),E._41(null,["\n            "])),(n()(),E._41(null,["\n          "]))],function(n,t){var l=t.component;n(t,12,0,t.parent.context.$implicit.createdAt<=l.chatThread.readUntil[0].readUntil)},function(n,t){n(t,3,0,t.component.opponents[0].avatarUrl),n(t,7,0,t.parent.context.$implicit.body),n(t,15,0,E._42(t,15,0,n(t,16,0,E._35(t.parent.parent,1),t.parent.context.$implicit.createdAt,"HH:mm")))})}function s(n){return E._43(0,[(n()(),E._21(0,null,null,13,"tbody",[],null,null,null,null,null)),(n()(),E._41(null,["\n          \n          "])),(n()(),E._41(null,["\n          "])),(n()(),E._15(16777216,null,null,1,null,r)),E._19(16384,null,0,W.l,[E._3,E.Z],{ngIf:[0,"ngIf"]},null),(n()(),E._41(null,["\n    \n          "])),(n()(),E._41(null,["\n          "])),(n()(),E._15(16777216,null,null,1,null,i)),E._19(16384,null,0,W.l,[E._3,E.Z],{ngIf:[0,"ngIf"]},null),(n()(),E._41(null,["\n    \n          "])),(n()(),E._41(null,["\n          "])),(n()(),E._15(16777216,null,null,1,null,a)),E._19(16384,null,0,W.l,[E._3,E.Z],{ngIf:[0,"ngIf"]},null),(n()(),E._41(null,["\n    \n        "]))],function(n,t){var l=t.component;n(t,4,0,l.isDisplayDate(t.context.index)),n(t,8,0,t.context.$implicit&&t.context.$implicit.senderId===l.myself.id),n(t,12,0,t.context.$implicit&&l.isOpponents(t.context.$implicit))},null)}function _(n){return E._43(0,[(n()(),E._21(0,null,null,9,"div",[["class","history-unread"]],null,[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.getUnreadChat()&&e}return e},null,null)),(n()(),E._41(null,["\n        "])),(n()(),E._21(0,null,null,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,X.j,X.e)),E._19(16384,null,0,N._25,[[2,N.j],E.q],null,null),E._19(638976,null,0,N._3,[E.Q,E.q,N._6,[8,null]],null,null),(n()(),E._41(0,["expand_more"])),(n()(),E._41(null,["\n        "])),(n()(),E._21(0,null,null,1,"span",[],null,null,null,null,null)),(n()(),E._41(null,["\u672a\u8aad\u304c\u3042\u308a\u307e\u3059"])),(n()(),E._41(null,["\n      "]))],function(n,t){n(t,4,0)},null)}function h(n){return E._43(0,[(n()(),E._21(0,null,null,3,"div",[["class","history-loading"]],null,null,null,null,null)),(n()(),E._21(0,null,null,2,"md-spinner",[["class","mat-spinner"],["mode","indeterminate"],["role","progressbar"]],[[1,"aria-valuenow",0],[1,"mode",0]],null,null,X.k,X.f)),E._19(16384,null,0,N._25,[[2,N.j],E.q],null,null),E._19(180224,null,0,N._55,[E.q,E.J,E.Q],null,null)],null,function(n,t){n(t,1,0,E._35(t,3).value,E._35(t,3).mode)})}function d(n){return E._43(0,[(n()(),E._21(0,null,null,9,"div",[["id","footer-chat"]],null,null,null,null,null)),(n()(),E._41(null,["\n    "])),(n()(),E._21(0,[[1,0],["replyText",1]],null,0,"input",[["class","footer-chat-item footer-chat-replyText"],["id","replyText"],["placeholder","\u30e1\u30c3\u30bb\u30fc\u30b8\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"]],[[2,"is-active",null]],[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){e=!1!==o.setFocus(l)&&e}return e},null,null)),(n()(),E._41(null,["\n    "])),(n()(),E._21(0,null,null,4,"button",[["class","footer-chat-item footer-chat-replyButton mat-raised-button"],["color","primary"],["md-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0,o=n.component;if("click"===t){o.handleClickReply(E._35(n,2).value,l);e=!1!==(E._35(n,2).value="")&&e}return e},X.i,X.d)),E._19(16384,null,0,N._25,[[2,N.j],E.q],null,null),E._19(180224,null,0,N.v,[E.Q,E.q,$.L,N.g],{color:[0,"color"]},null),E._19(16384,null,0,N._34,[],null,null),(n()(),E._41(0,["\u9001\u4fe1"])),(n()(),E._41(null,["\n  "]))],function(n,t){n(t,6,0,"primary")},function(n,t){n(t,2,0,t.component.isActive),n(t,4,0,E._35(t,6).disabled||null)})}function p(n){return E._43(0,[E._36(0,nn.a,[]),E._36(0,W.e,[E.D]),E._39(671088640,1,{input:0}),(n()(),E._21(0,null,null,32,"div",[["id","container-chat"]],null,null,null,null,null)),(n()(),E._41(null,["\n  \n  "])),(n()(),E._21(0,null,null,1,"div",[["id","header-chat"]],null,null,null,null,null)),(n()(),E._41(null,["\n  "])),(n()(),E._41(null,["\n\n  "])),(n()(),E._21(0,null,null,23,"div",[["id","contents-chat"]],null,null,null,null,null)),(n()(),E._41(null,["\n    "])),(n()(),E._21(0,[["scrollMove",1]],null,20,"div",[["class","history-scrollbox"]],[[4,"height","px"]],null,null,null,null)),(n()(),E._41(null,["\n      "])),(n()(),E._21(0,null,null,3,"div",[],null,null,null,null,null)),(n()(),E._15(16777216,null,null,2,null,u)),E._19(16384,null,0,W.l,[E._3,E.Z],{ngIf:[0,"ngIf"]},null),E._36(131072,W.b,[E.j]),(n()(),E._41(null,["\n    \n      "])),(n()(),E._21(0,null,null,5,"table",[["class","chats"]],null,null,null,null,null)),(n()(),E._41(null,["\n    \n        "])),(n()(),E._15(16777216,null,null,2,null,s)),E._19(802816,null,0,W.k,[E._3,E.Z,E.B],{ngForOf:[0,"ngForOf"]},null),E._36(131072,W.b,[E.j]),(n()(),E._41(null,["\n    \n      "])),(n()(),E._41(null,["\n    \n      "])),(n()(),E._15(16777216,null,null,1,null,_)),E._19(16384,null,0,W.l,[E._3,E.Z],{ngIf:[0,"ngIf"]},null),(n()(),E._41(null,["\n      "])),(n()(),E._15(16777216,null,null,2,null,h)),E._19(16384,null,0,W.l,[E._3,E.Z],{ngIf:[0,"ngIf"]},null),E._36(131072,W.b,[E.j]),(n()(),E._41(null,["\n    \n    "])),(n()(),E._41(null,["\n  "])),(n()(),E._41(null,["\n\n  "])),(n()(),E._15(16777216,null,null,1,null,d)),E._19(16384,null,0,W.l,[E._3,E.Z],{ngIf:[0,"ngIf"]},null),(n()(),E._41(null,["\n\n"]))],function(n,t){var l=t.component;n(t,14,0,E._42(t,14,0,E._35(t,15).transform(l.loadingChatBack$))),n(t,20,0,E._42(t,20,0,E._35(t,21).transform(l.chats$))),n(t,25,0,l.isUnread()),n(t,28,0,E._42(t,28,0,E._35(t,29).transform(l.loadingChatForward$)));n(t,34,0,!0)},function(n,t){n(t,10,0,t.component.height)})}function f(n){return E._43(0,[(n()(),E._21(0,null,null,1,"app-tutorial1",[],null,null,null,p,un)),E._19(114688,null,0,R,[tn.k,tn.a,E.Q,ln.a,en.a],null,null)],function(n,t){n(t,1,0)},null)}function g(n){return an._43(0,[(n()(),an._21(16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),an._19(212992,null,0,sn.o,[sn.b,an._3,an.m,[8,null],an.j],null,null),(n()(),an._41(null,["\n"]))],function(n,t){n(t,1,0)},null)}function m(n){return an._43(0,[(n()(),an._21(0,null,null,1,"app-root",[],null,null,null,g,hn)),an._19(49152,null,0,b,[],null,null)],null,null)}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function n(){}return n}(),b=function(){function n(){}return n}(),v=[""],j={id:1,avatarUrl:"assets/images/navi_avatar.png"},k=l("BkNc"),O=l("rr0h"),C=l("y6FT"),P=function(){function n(n,t,l,e){this.router=n,this.store=t,this.accountService=l,this.chatService=e,this.JSON=JSON}return n.prototype.ngOnInit=function(){this.accountResponse$=this.store.changes.pluck("account")},n.prototype.sighup=function(){var n=this;this.chatService.post(j.id).subscribe(function(t){n.router.navigate(["chat/"+t.id])})},n.prototype.login=function(){var n=this;this.accountService.login("t2.tide@gmail.com","allergy").subscribe(function(){n.sessionResponse=localStorage.getItem("allergylog"),n.getMe()})},n.prototype.getMe=function(){this.accountService.get()},n.ctorParameters=function(){return[{type:k.k},{type:O.a},{type:C.a},{type:C.b}]},n}(),x=l("/oeL"),M=l("BkNc"),w=l("qbdv"),S=l("rr0h"),L=l("sOgt"),I=l("3WSF"),z=[v],A=x._18({encapsulation:0,styles:z,data:{}}),F=x._16("app-top",P,o,{},{},[]),q=l("/oeL"),T=l("BkNc"),D=l("rlar"),Q=(l.n(D),l("rr0h")),U=l("y6FT"),K=l("txSO"),B=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var l in t)t.hasOwnProperty(l)&&(n[l]=t[l])};return function(t,l){function e(){this.constructor=t}n(t,l),t.prototype=null===l?Object.create(l):(e.prototype=l.prototype,new e)}}(),H=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++){t=arguments[l];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},R=function(n){function t(t,l,e,o,u){var r=n.call(this,t,l,e,o,u)||this;return r.height=window.innerHeight-152,r.chatSource=new D.Subject,r.chats$=r.chatSource.asObservable(),r}return B(t,n),t.prototype.ngOnInit=function(){var n=this;this.myself=this.store.getState().account,this.opponents=[H({},j,{email:"",name:"",selfIntroduction:"",rank:"",titleOfHonor:""})],this.chatThread=Y,setTimeout(function(){return n.chatSource.next(V)},0),setTimeout(function(){n.chatSource.next(V.concat(G)),n.input.nativeElement.click(),(navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPad")>-1)&&(n.isActive=!0)},2e3)},t.prototype.handleClickReply=function(n){var t=this;(navigator.userAgent.indexOf("iPhone")>-1||navigator.userAgent.indexOf("iPad")>-1)&&(this.isActive=!1);var l=[{id:3,senderId:this.myself.id,body:n,createdAt:new Date}];this.chatSource.next(V.concat(G,l));var e="\u3059\u3054\u3044\uff01"+n+"\u3063\u3066\u8a00\u3046\u3093\u3060\uff01";J[0].body=e,setTimeout(function(){return t.chatSource.next(V.concat(G,l,J))},1e3)},t.ctorParameters=function(){return[{type:T.k},{type:T.a},{type:q.Q},{type:Q.a},{type:U.b}]},t}(K.a),V=[{id:1,senderId:j.id,body:"\u3088\u3046\u3053\u305d\uff01",createdAt:new Date}],G=[{id:2,senderId:j.id,body:"\u541b\u306e\u540d\u524d\u3092\u6559\u3048\u3066\uff01",createdAt:new Date}],J=[{id:4,senderId:j.id,body:"",createdAt:new Date}],Y={id:0,hasUnread:!1,updatedAt:new Date,readUntil:[{chatThreadId:0,userId:j.id,readUntil:1}],participants:[],newestChat:null},Z=l("Zrme"),E=l("/oeL"),X=l("v6Q/"),N=l("Z04r"),W=l("qbdv"),$=l("p4Sk"),nn=l("HOG7"),tn=l("BkNc"),ln=l("rr0h"),en=l("3WSF"),on=[Z.a],un=E._18({encapsulation:0,styles:on,data:{}}),rn=E._16("app-tutorial1",R,f,{},{},[]),cn=[""],an=l("/oeL"),sn=l("BkNc"),_n=[cn],hn=an._18({encapsulation:0,styles:_n,data:{}}),dn=an._16("app-root",b,m,{},{},[]),pn=function(){function n(){}return n}(),fn=l("/oeL"),gn=l("v6Q/"),mn=l("qbdv"),yn=l("fc+i"),bn=l("Z04r"),vn=l("f9zQ"),jn=l("fL27"),kn=l("EyWH"),On=l("XKz0"),Cn=l("Mq1o"),Pn=l("bm2B"),xn=l("p4Sk"),Mn=l("CPp0"),wn=l("BkNc"),Sn=l("rr0h"),Ln=l("sOgt"),In=l("zVLU"),zn=l("3WSF"),An=l("D5Jq"),Fn=l("T2Au"),qn=fn._17(y,[b],function(n){return fn._32([fn._33(512,fn.m,fn._13,[[8,[gn.b,gn.a,gn.c,gn.g,gn.h,F,rn,dn]],[3,fn.m],fn.H]),fn._33(5120,fn.D,fn._31,[[3,fn.D]]),fn._33(4608,mn.n,mn.m,[fn.D]),fn._33(5120,fn.c,fn._22,[]),fn._33(5120,fn.B,fn._28,[]),fn._33(5120,fn.C,fn._29,[]),fn._33(4608,yn.c,yn.t,[mn.d]),fn._33(6144,fn.T,null,[yn.c]),fn._33(4608,yn.f,bn.h,[]),fn._33(5120,yn.d,function(n,t,l,e){return[new yn.l(n),new yn.p(t),new yn.o(l,e)]},[mn.d,mn.d,mn.d,yn.f]),fn._33(4608,yn.e,yn.e,[yn.d,fn.J]),fn._33(135680,yn.n,yn.n,[mn.d]),fn._33(4608,yn.m,yn.m,[yn.e,yn.n]),fn._33(5120,vn.a,jn.d,[]),fn._33(5120,vn.c,jn.e,[]),fn._33(4608,vn.b,jn.c,[vn.a,vn.c]),fn._33(5120,fn.R,jn.f,[yn.m,vn.b,fn.J]),fn._33(6144,yn.q,null,[yn.n]),fn._33(4608,fn._0,fn._0,[fn.J]),fn._33(4608,yn.h,yn.h,[mn.d]),fn._33(4608,yn.j,yn.j,[mn.d]),fn._33(4608,kn.b,jn.b,[fn.R]),fn._33(4608,On.i,On.n,[mn.d,fn.M,On.l]),fn._33(4608,On.o,On.o,[On.i,On.m]),fn._33(5120,On.a,function(n){return[n,new Cn.a]},[On.o]),fn._33(4608,On.k,On.k,[]),fn._33(6144,On.j,null,[On.k]),fn._33(4608,On.h,On.h,[On.j]),fn._33(6144,On.b,null,[On.h]),fn._33(5120,On.f,On.p,[On.b,[2,On.a]]),fn._33(4608,On.c,On.c,[On.f]),fn._33(4608,Pn.k,Pn.k,[]),fn._33(6144,xn.o,null,[yn.b]),fn._33(4608,xn.q,xn.q,[[2,xn.o]]),fn._33(4608,xn.L,xn.L,[]),fn._33(5120,bn._79,bn._89,[[3,bn._79],fn.J,xn.L]),fn._33(5120,bn._86,bn._88,[[3,bn._86],bn._79]),fn._33(4608,bn._80,bn._80,[bn._79,bn._86]),fn._33(5120,bn.g,bn.f,[[3,bn.g],fn.J,xn.L]),fn._33(5120,bn._85,bn._90,[[3,bn._85]]),fn._33(4608,xn.G,xn.G,[]),fn._33(5120,bn._75,bn._87,[[3,bn._75]]),fn._33(4608,bn._92,bn._92,[bn._86]),fn._33(4608,bn._74,bn._74,[bn._80,bn._75,fn.m,bn._92,fn.g,fn.z,fn.J]),fn._33(4608,xn.z,xn.z,[xn.L]),fn._33(4608,xn.w,xn.w,[xn.z,xn.L,fn.J]),fn._33(5120,xn.F,xn.D,[[3,xn.F],[2,xn.B],xn.L]),fn._33(4608,bn.T,bn.T,[bn._74,fn.z,[2,mn.h],[3,bn.T]]),fn._33(4608,bn.Q,bn.Q,[]),fn._33(5120,bn._6,bn.i,[[3,bn._6],[2,Mn.a],yn.c]),fn._33(4608,bn._48,bn._48,[bn._74,xn.F,[3,bn._48]]),fn._33(5120,wn.a,wn.x,[wn.k]),fn._33(4608,wn.d,wn.d,[]),fn._33(6144,wn.f,null,[wn.d]),fn._33(135680,wn.p,wn.p,[wn.k,fn.G,fn.k,fn.z,wn.f]),fn._33(4608,wn.e,wn.e,[]),fn._33(5120,wn.h,wn.A,[wn.y]),fn._33(5120,fn.b,function(n){return[n]},[wn.h]),fn._33(4608,Sn.a,Sn.a,[]),fn._33(4608,Ln.a,Ln.a,[On.c,Sn.a]),fn._33(4608,In.a,In.a,[On.c,Sn.a]),fn._33(4608,zn.a,zn.a,[On.c,Sn.a]),fn._33(512,mn.c,mn.c,[]),fn._33(1024,fn.r,yn.r,[]),fn._33(1024,fn.I,function(){return[wn.t()]},[]),fn._33(512,wn.y,wn.y,[fn.z]),fn._33(1024,fn.d,function(n,t,l){return[yn.s(n,t),wn.z(l)]},[[2,yn.i],[2,fn.I],wn.y]),fn._33(512,fn.e,fn.e,[[2,fn.d]]),fn._33(131584,fn._20,fn._20,[fn.J,fn._14,fn.z,fn.r,fn.m,fn.e]),fn._33(2048,fn.g,null,[fn._20]),fn._33(512,fn.f,fn.f,[fn.g]),fn._33(512,yn.a,yn.a,[[3,yn.a]]),fn._33(512,jn.a,jn.a,[]),fn._33(512,On.e,On.e,[]),fn._33(512,On.d,On.d,[]),fn._33(512,Pn.j,Pn.j,[]),fn._33(512,Pn.b,Pn.b,[]),fn._33(512,bn.c,bn.c,[]),fn._33(512,xn.c,xn.c,[]),fn._33(256,bn.k,!0,[]),fn._33(512,bn.M,bn.M,[[2,yn.b],[2,bn.k]]),fn._33(512,xn.M,xn.M,[]),fn._33(512,bn._78,bn._78,[]),fn._33(512,bn._36,bn._36,[]),fn._33(512,bn._83,bn._83,[]),fn._33(512,bn.x,bn.x,[]),fn._33(512,bn.B,bn.B,[]),fn._33(512,bn.G,bn.G,[]),fn._33(512,xn.I,xn.I,[]),fn._33(512,bn.J,bn.J,[]),fn._33(512,xn.O,xn.O,[]),fn._33(512,bn._76,bn._76,[]),fn._33(512,xn.a,xn.a,[]),fn._33(512,bn.V,bn.V,[]),fn._33(512,bn.R,bn.R,[]),fn._33(512,bn._5,bn._5,[]),fn._33(512,bn._9,bn._9,[]),fn._33(512,bn._16,bn._16,[]),fn._33(512,bn._27,bn._27,[]),fn._33(512,bn._29,bn._29,[]),fn._33(512,bn._33,bn._33,[]),fn._33(512,bn._40,bn._40,[]),fn._33(512,bn._22,bn._22,[]),fn._33(512,bn._39,bn._39,[]),fn._33(512,bn._43,bn._43,[]),fn._33(512,bn._45,bn._45,[]),fn._33(512,bn._50,bn._50,[]),fn._33(512,bn._64,bn._64,[]),fn._33(512,bn._66,bn._66,[]),fn._33(512,bn._69,bn._69,[]),fn._33(512,An.a,An.a,[]),fn._33(512,Fn.a,Fn.a,[]),fn._33(1024,wn.s,wn.v,[[3,wn.k]]),fn._33(512,wn.r,wn.c,[]),fn._33(512,wn.b,wn.b,[]),fn._33(256,wn.g,{},[]),fn._33(1024,mn.i,wn.u,[mn.t,[2,mn.a],wn.g]),fn._33(512,mn.h,mn.h,[mn.i]),fn._33(512,fn.k,fn.k,[]),fn._33(512,fn.G,fn.X,[fn.k,[2,fn.Y]]),fn._33(1024,wn.i,function(){return[[{path:"",component:P},{path:"chat",loadChildren:"./components/chats/chats.module#ChatsModule"},{path:"user",loadChildren:"./components/users/users.module#UsersModule"},{path:"tutorial",component:R}]]},[]),fn._33(1024,wn.k,wn.w,[fn.g,wn.r,wn.b,mn.h,fn.z,fn.G,fn.k,wn.i,wn.g,[2,wn.q],[2,wn.j]]),fn._33(512,wn.n,wn.n,[[2,wn.s],[2,wn.k]]),fn._33(512,pn,pn,[]),fn._33(512,y,y,[]),fn._33(256,On.l,"XSRF-TOKEN",[]),fn._33(256,On.m,"X-XSRF-TOKEN",[])])}),Tn=l("/oeL"),Dn=l("p5Ee"),Qn=l("fc+i");Dn.a.production&&Object(Tn._7)(),Object(Qn.k)().bootstrapModuleFactory(qn)},gFIY:function(n,t,l){function e(n){var t=o[n];return t?l.e(t[1]).then(function(){return l(t[0])}):Promise.reject(new Error("Cannot find module '"+n+"'."))}var o={"./components/chats/chats.module.ngfactory":["VDzs",1],"./components/users/users.module.ngfactory":["qa2M",0]};e.keys=function(){return Object.keys(o)},n.exports=e,e.id="gFIY"},p5Ee:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e={production:!0,domain:"https://allelog.herokuapp.com"}},rr0h:function(n,t,l){"use strict";l.d(t,"a",function(){return r});var e=l("gvep"),o=(l.n(e),{account:{},profile:{},chatList:[],chats:[],searchUsers:{},loading:!1,error:!1}),u=new e.BehaviorSubject(o),r=function(){function n(){this.store=u,this.changes=u.asObservable().distinctUntilChanged()}return n.prototype.getState=function(){return this.store.value},n.prototype.setState=function(n){this.store.next(n)},n}()},sOgt:function(n,t,l){"use strict";l.d(t,"a",function(){return r});var e=l("XKz0"),o=l("rr0h"),u=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++){t=arguments[l];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},r=function(){function n(n,t){this.http=n,this.store=t}return n.prototype.login=function(n,t){var l=this,e={email:n,password:t};return this.http.post("/api/login",e).map(function(n){l.userId=n.userId,localStorage.setItem("allergylog",n.accessToken)})},n.prototype.get=function(){var n=this;this.http.get("/api/users/"+this.userId).subscribe(function(t){n.onSuccessAccount(t)})},n.prototype.onSuccessAccount=function(n){var t=this.store.getState();this.store.setState(u({},t,{account:n,loading:!1,error:!1}))},n.ctorParameters=function(){return[{type:e.c},{type:o.a}]},n}()},txSO:function(n,t,l){"use strict";l.d(t,"a",function(){return i});var e=l("/oeL"),o=l("BkNc"),u=l("rr0h"),r=l("y6FT"),i=function(){function n(n,t,l,e,o){this.router=n,this.route=t,this.renderer=l,this.store=e,this.chatService=o,this.height=window.innerHeight-152}return n.prototype.ngOnInit=function(){var n=this;this.chats$=this.store.changes.pluck("chats"),this.myself=this.store.getState().account,this.route.params.map(function(t){n.chatThread=n.store.getState().chatList.find(function(n){return n.id===+t.id}),n.opponents=n.chatThread.participants.filter(function(t){return t.id!==n.myself.id}),n.chatService.get(t.id)}).subscribe(function(){return console.log()},function(t){return n.router.navigate(["/chat/list"])})},n.prototype.isDisplayDate=function(){},n.prototype.isOpponents=function(n){return this.opponents.some(function(t){return t.id===n.senderId})},n.prototype.isDispalyReply=function(){},n.prototype.isUnread=function(){},n.prototype.getUnreadChat=function(){},n.prototype.handleClickReply=function(n,t){this.chatService.say(this.chatThread.id,n)},n.prototype.setFocus=function(n){n.preventDefault(),this.renderer.selectRootElement("#replyText").focus()},n.ctorParameters=function(){return[{type:o.k},{type:o.a},{type:e.Q},{type:u.a},{type:r.b}]},n}()},y6FT:function(n,t,l){"use strict";var e=(l("Mq1o"),l("sOgt"));l.d(t,"a",function(){return e.a});var o=l("zVLU");l.d(t,"c",function(){return o.a});var u=l("3WSF");l.d(t,"b",function(){return u.a})},zVLU:function(n,t,l){"use strict";l.d(t,"a",function(){return r});var e=l("XKz0"),o=l("rr0h"),u=this&&this.__assign||Object.assign||function(n){for(var t,l=1,e=arguments.length;l<e;l++){t=arguments[l];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},r=function(){function n(n,t){this.httpClient=n,this.store=t}return n.prototype.getProfile=function(n){var t=this;this.httpClient.get("/api/profiles/"+n).subscribe(function(n){t.onSuccessProfile(n)})},n.prototype.getSearchName=function(n){var t=this,l=(new e.g).set("search_key",n);this.httpClient.get("/api/search/usernames",{params:l}).subscribe(function(n){t.onSuccessSearchUsers(n)})},n.prototype.onSuccessProfile=function(n){var t=this.store.getState();this.store.setState(u({},t,{profile:n,loading:!1,error:!1}))},n.prototype.onSuccessSearchUsers=function(n){var t=this.store.getState();this.store.setState(u({},t,{searchUsers:n,loading:!1,error:!1}))},n.ctorParameters=function(){return[{type:e.c},{type:o.a}]},n}()}},[0]);